<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Poudriere | Silmaril's Blog</title><meta property="og:title" content="Silmaril's Blog"><link rel=stylesheet href=../../../../../main.min.css><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&family=Prompt:wght@700&display=swap" rel=stylesheet></head><body class=page><header class=top-header><nav><ul class=top-nav><li class=top-nav__logo><a href=../../../../../>Silmaril's Blog</a></li><li class=top-nav__link><a href=../../../../../pages/about>About</a><li class=top-nav__link><a href=../../../../../blog/>Archives</a><li class=top-nav__link><a href=../../../../../pages/links>Links</a></ul></nav></header><main class=main-content><aside><h1>Author</h1><div class=profil><h4><a href=../../../../../pages/about/>Benoit Plessis</a></h4><img src=../../../../../images/profil.png width=100 height=100 alt="Author Profil"><p>System & Network Engineer - France</p></div><p><small>Simple sysadmin notes and thought on the world&mldr; Yeah no just kidding, some less than special rant and diary.</small></p><nav id=social><ul><li><a href=mailto:benoit@plessis.info>Email Contact</a></li><li><a href="https://twitter.com/silmaril34?ref_src=twsrc%5Etfw" class=twitter-follow-button data-show-count=false>Follow @silmaril34</a><script async src=https://platform.twitter.com/widgets.js></script></li><li><a class=github-button href=https://github.com/bplessis data-color-scheme="no-preference: light; light: light; dark: dark;" data-size=large aria-label="Follow @bplessis on GitHub">Follow @bplessis</a><script async defer src=https://buttons.github.io/buttons.js></script></li></ul></nav></aside><div class=page-content><article id=content><p>In some cases you might need to use some customisation over the standard pre-built packages repository. Two choices there: you can either manually build them using the <em>ports</em> system on each of your jails/servers, or you can make a custom pkg repository with your build options.</p><p>This is what i will show here, using the <em>poudriere</em> build system, a creation by the same author of <em>pkg</em>, <a href=http://blog.etoilebsd.net/>bapt</a>, a good guy (yes yes ;) ) who has coped with me during many FreeBSD rants (well he wasn&rsquo;t the only one, thanks <a href=https://www.keltia.net/>Keltia</a> , nerzhul, renchap and others for your precious help).</p><h2 id=setup--configuration>Setup & configuration</h2><p>As usual we start with installing the pkg:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# pkg install poudriere</span></span></code></pre></div><p>First step will be, strangely enough ;) , customisation of the configuration file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># Poudriere can make use of ZFS, so we tell him where he should work</span>
</span></span><span class=line><span class=cl><span class=nv>ZPOOL</span><span class=o>=</span>zroot
</span></span><span class=line><span class=cl><span class=nv>ZROOTFS</span><span class=o>=</span>/poudriere
</span></span><span class=line><span class=cl><span class=c1># Recommanded</span>
</span></span><span class=line><span class=cl><span class=nv>FREEBSD_HOST</span><span class=o>=</span>https://download.FreeBSD.org
</span></span><span class=line><span class=cl><span class=nv>RESOLV_CONF</span><span class=o>=</span>/usr/jails/flavours/mine/etc/resolv.conf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># The directory where poudriere will store jails and ports</span>
</span></span><span class=line><span class=cl><span class=nv>BASEFS</span><span class=o>=</span>/usr/local/poudriere</span></span></code></pre></div><h2 id=build-jail>Build Jail</h2><p>Next step is to setup a build jail, every thing is automated, you only need to provide a name and a version:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere jail -c -j FreeBSD:11amd64 -v 11.0-RELEASE
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Creating FreeBSD:11amd64 fs... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Using pre-distributed MANIFEST <span class=k>for</span> FreeBSD 11.0-RELEASE amd64
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Fetching base.txz <span class=k>for</span> FreeBSD 11.0-RELEASE amd64
</span></span><span class=line><span class=cl>/usr/local/poudriere/jails/FreeBSD:11amd64/fro100% of   <span class=m>91</span> MB   <span class=m>44</span> MBps 00m02s
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:03<span class=o>]</span> <span class=o>====</span>&gt;&gt; Extracting base.txz... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:13<span class=o>]</span> <span class=o>====</span>&gt;&gt; Fetching src.txz <span class=k>for</span> FreeBSD 11.0-RELEASE amd64
</span></span><span class=line><span class=cl>/usr/local/poudriere/jails/FreeBSD:11amd64/fro100% of  <span class=m>133</span> MB   <span class=m>44</span> MBps 00m03s
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:16<span class=o>]</span> <span class=o>====</span>&gt;&gt; Extracting src.txz... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:33<span class=o>]</span> <span class=o>====</span>&gt;&gt; Fetching lib32.txz <span class=k>for</span> FreeBSD 11.0-RELEASE amd64
</span></span><span class=line><span class=cl>/usr/local/poudriere/jails/FreeBSD:11amd64/fro100% of   <span class=m>17</span> MB   <span class=m>20</span> MBps 00m01s
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:34<span class=o>]</span> <span class=o>====</span>&gt;&gt; Extracting lib32.txz... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:36<span class=o>]</span> <span class=o>====</span>&gt;&gt; Cleaning up... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:36<span class=o>]</span> <span class=o>====</span>&gt;&gt; Recording filesystem state <span class=k>for</span> clean... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:36<span class=o>]</span> <span class=o>====</span>&gt;&gt; Upgrading using ftp
</span></span><span class=line><span class=cl>/usr/jails/flavours/mine/etc/resolv.conf -&gt; /usr/local/poudriere/jails/FreeBSD:11amd64/etc/resolv.conf
</span></span><span class=line><span class=cl>mount: /usr/local/poudriere/jails/FreeBSD:11amd64/compat: No such file or directory
</span></span><span class=line><span class=cl>Looking up update.FreeBSD.org mirrors... <span class=m>4</span> mirrors found.
</span></span><span class=line><span class=cl>Fetching public key from update6.freebsd.org... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching metadata signature <span class=k>for</span> 11.0-RELEASE from update6.freebsd.org... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching metadata index... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching <span class=m>2</span> metadata files... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Inspecting system... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Preparing to download files... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching <span class=m>1782</span> patches.....10....20....30....40....50....60....70....80....90....100....110....120....130....140....150....160....170....180....190....200....210....220....230....240....250....260....270....280....290....300....310....320.
</span></span><span class=line><span class=cl>...330....340....350....360....370....380....390....400....410....420....430....440....450....460....470....480....490....500....510....520....530....540....550....560....570....580....590....600....610....620....630....640....650....660.
</span></span><span class=line><span class=cl>...670....680....690....700....710....720....730....740....750....760....770....780....790....800....810....820....830....840....850....860....870....880....890....900....910....920....930....940....950....960....970....980....990....1000
</span></span><span class=line><span class=cl>....1010....1020....1030....1040....1050....1060....1070....1080....1090....1100....1110....1120....1130....1140....1150....1160....1170....1180....1190....1200....1210....1220....1230....1240....1250....1260....1270....1280....1290....13
</span></span><span class=line><span class=cl>00....1310....1320....1330....1340....1350....1360....1370....1380....1390....1400....1410....1420....1430....1440....1450....1460....1470....1480....1490....1500....1510....1520....1530....1540....1550....1560....1570....1580....1590....
</span></span><span class=line><span class=cl>1600....1610....1620....1630....1640....1650....1660....1670....1680....1690....1700....1710....1720....1730....1740....1750....1760....1770....1780. <span class=k>done</span>.
</span></span><span class=line><span class=cl>Applying patches... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching <span class=m>22</span> files... <span class=k>done</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The following files will be removed as part of updating to 11.0-RELEASE-p10:
</span></span><span class=line><span class=cl>/usr/share/zoneinfo/America/Santa_Isabel
</span></span><span class=line><span class=cl>/usr/share/zoneinfo/Asia/Rangoon
</span></span><span class=line><span class=cl>/usr/src/contrib/ntp/compile
</span></span><span class=line><span class=cl>/usr/src/contrib/ntp/config.guess
</span></span><span class=line><span class=cl>/usr/src/contrib/ntp/config.sub
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>/usr/src/usr.sbin/ntp/doc/ntpq.8
</span></span><span class=line><span class=cl>/usr/src/usr.sbin/ntp/doc/sntp.8
</span></span><span class=line><span class=cl>/usr/src/usr.sbin/ntp/libntp/Makefile
</span></span><span class=line><span class=cl>/usr/src/usr.sbin/ntp/scripts/mkver
</span></span><span class=line><span class=cl>Installing updates... <span class=k>done</span>.
</span></span><span class=line><span class=cl>FreeBSD:11amd64-default: removed
</span></span><span class=line><span class=cl>FreeBSD:11amd64-default-n: removed
</span></span><span class=line><span class=cl>11.0-RELEASE-p10
</span></span><span class=line><span class=cl><span class=o>[</span>00:01:39<span class=o>]</span> <span class=o>====</span>&gt;&gt; Recording filesystem state <span class=k>for</span> clean... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:01:39<span class=o>]</span> <span class=o>====</span>&gt;&gt; Jail FreeBSD:11amd64 11.0-RELEASE amd64 is ready to be used</span></span></code></pre></div><p>For subsequent update:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere jail -u -j FreeBSD:11amd64</span></span></code></pre></div>will be enough.</p><h2 id=port-tree>Port Tree</h2><p>And setup/update a port tree (a collection of package &ldquo;build rules&rdquo;):<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere ports -c
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Creating default fs... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Extracting portstree <span class=s2>&#34;default&#34;</span>...
</span></span><span class=line><span class=cl>Looking up portsnap.FreeBSD.org mirrors... <span class=m>6</span> mirrors found.
</span></span><span class=line><span class=cl>Fetching public key from ec2-eu-west-1.portsnap.freebsd.org... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching snapshot tag from ec2-eu-west-1.portsnap.freebsd.org... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching snapshot metadata... <span class=k>done</span>.
</span></span><span class=line><span class=cl>Fetching snapshot generated at Fri May  <span class=m>5</span> 02:07:51 CEST 2017:
</span></span><span class=line><span class=cl>25b9a390c7dac576abba7fa6df9fc984186f6456475710100% of   <span class=m>75</span> MB   <span class=m>26</span> MBps 00m03s
</span></span><span class=line><span class=cl>Extracting snapshot... <span class=k>done</span>.
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>/usr/local/poudriere/ports/default/x11/yalias/
</span></span><span class=line><span class=cl>/usr/local/poudriere/ports/default/x11/yeahconsole/
</span></span><span class=line><span class=cl>/usr/local/poudriere/ports/default/x11/yelp/
</span></span><span class=line><span class=cl>/usr/local/poudriere/ports/default/x11/zenity/
</span></span><span class=line><span class=cl>Building new INDEX files... <span class=k>done</span>.</span></span></code></pre></div></p><p>For updating:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere ports -u</span></span></code></pre></div></p><h2 id=package-list--configuration>Package list & configuration</h2><p>You will then have to decide what should be rebuilt, and how, for that you&rsquo;ll need to setup some generic build rules within a &lsquo;make.conf&rsquo; file:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:# cat FreeBSD:11amd64-make.conf
</span></span><span class=line><span class=cl>DEFAULT_PHP_VER?<span class=o>=</span>       <span class=m>71</span></span></span></code></pre></div></p><p>And a list of packages to be built:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:# cat FreeBSD:11amd64-pkglist
</span></span><span class=line><span class=cl>devel/pecl-APCu</span></span></code></pre></div></p><p>And lastly you should setup per-package options for all the listed package and thers build-dependencies:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere options -j FreeBSD:11amd64 -f FreeBSD:11amd64-pkglist</span></span></code></pre></div></p><h1 id=building>Building</h1><p>Yes, now we can rebuilt all thoses pesky packages, with a simple command line:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# poudriere bulk -j FreeBSD:11amd64 -f FreeBSD:11amd64-pkglist
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Creating the reference jail... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Mounting system devices <span class=k>for</span> FreeBSD:11amd64-default
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Mounting ports/packages/distfiles
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Converting package repository to new format
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Stashing existing package repository
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Mounting packages from: /usr/local/poudriere/data/packages/FreeBSD:11amd64-default
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Copying /var/db/ports from: /usr/local/etc/poudriere.d/FreeBSD:11amd64-options
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Appending to make.conf: /usr/local/etc/poudriere.d/FreeBSD:11amd64-make.conf
</span></span><span class=line><span class=cl>/usr/jails/flavours/mine/etc/resolv.conf -&gt; /usr/local/poudriere/data/.m/FreeBSD:11amd64-default/ref/etc/resolv.conf
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Starting jail FreeBSD:11amd64-default
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Logs: /usr/local/poudriere/data/logs/bulk/FreeBSD:11amd64-default/2017-05-05_13h00m34s
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Loading MOVED
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Calculating ports order and dependencies
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; pkg package missing, skipping sanity
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Skipping incremental rebuild and repository sanity checks
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Cleaning the build queue
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:01<span class=o>]</span> <span class=o>====</span>&gt;&gt; Recording filesystem state <span class=k>for</span> prepkg... <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:02<span class=o>]</span> <span class=o>====</span>&gt;&gt; Building <span class=m>17</span> packages using <span class=m>8</span> builders
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:02<span class=o>]</span> <span class=o>====</span>&gt;&gt; Starting/Cloning builders
</span></span><span class=line><span class=cl><span class=o>[</span>00:00:02<span class=o>]</span> <span class=o>====</span>&gt;&gt; Hit CTRL+t at any <span class=nb>time</span> to see build progress and stats
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>Creating repository in /tmp/packages: 100%
</span></span><span class=line><span class=cl>Packing files <span class=k>for</span> repository: 100%
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Committing packages to repository
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Removing old packages
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Built ports: ports-mgmt/pkg devel/autoconf-wrapper print/indexinfo devel/pkgconf devel/gettext-runtime devel/pcre devel/gettext-tools devel/gmake textproc/libxml2 lang/perl5.24 devel/p5-Locale-gettext misc/help2man print/texinfo devel/m4 devel/autoconf lang/php71 devel/pecl-APCu
</span></span><span class=line><span class=cl><span class=o>[</span>FreeBSD:11amd64-default<span class=o>]</span> <span class=o>[</span>2017-05-05_13h00m34s<span class=o>]</span> <span class=o>[</span>committing:<span class=o>]</span> Queued: <span class=m>17</span> Built: <span class=m>17</span> Failed: <span class=m>0</span>  Skipped: <span class=m>0</span>  Ignored: <span class=m>0</span>  Tobuild: <span class=m>0</span>   Time: 00:07:59
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Logs: /usr/local/poudriere/data/logs/bulk/FreeBSD:11amd64-default/2017-05-05_13h00m34s
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Cleaning up
</span></span><span class=line><span class=cl>FreeBSD:11amd64-default: removed
</span></span><span class=line><span class=cl>FreeBSD:11amd64-default-n: removed
</span></span><span class=line><span class=cl><span class=o>[</span>00:08:00<span class=o>]</span> <span class=o>====</span>&gt;&gt; Unmounting file systems</span></span></code></pre></div></p><h1 id=sharing>Sharing</h1><p>Ok then now there is the simple question of sharing thoses new shiny packages with all your hosts/jails. Since i don&rsquo;t have multiple FreeBSD hosts i will use a really simple way for this: the package directory will be null-mounted (read &lsquo;bind-ed&rsquo; for all you linux users) on the jails using the fstab. file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# cat /etc/fstab.ns3_plessis_info
</span></span><span class=line><span class=cl>/usr/jails/basejail /usr/jails/ns3.plessis.info/basejail nullfs ro <span class=m>0</span> <span class=m>0</span></span></span></code></pre></div><p>And in the jail you need to add the repository with a simple definition:<div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@ns3:~# cat /usr/local/etc/pkg/repos/local.conf
</span></span><span class=line><span class=cl>local: <span class=o>{</span>
</span></span><span class=line><span class=cl>    url: <span class=s2>&#34;file:///usr/local/poudriere/data/packages/FreeBSD:11amd64-default&#34;</span>,
</span></span><span class=line><span class=cl>    priority: 100,
</span></span><span class=line><span class=cl>    enabled: yes
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></div></p><h1 id=updating-the-builds>Updating the builds</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>root@frb:~# /usr/local/bin/poudriere jail -u -j FreeBSD:11amd64
</span></span><span class=line><span class=cl>root@frb:~# /usr/local/bin/poudriere ports -u -p default <span class=o>&amp;&amp;</span> /usr/local/bin/poudriere bulk -f /usr/local/etc/poudriere.d/FreeBSD:11amd64-pkglist -j FreeBSD:11amd64 -p default</span></span></code></pre></div></article><hr><nav id=timenav><div id=previnsection><h3>Older</h3><article class=post-link><header><h1><a href=../../../../../blog/2017/02/27/Setting-up-jails/>Setting up jails</a></h1><p>The main idea of this new setup is to try and isolate services for the main host, which should be only used for management.
So every service will be run in it&rsquo;s own context, known as jails in the Free/Net/OpenBSD lingua.
However a few helping services on the host might be usefull, for DNS resolving, log collection, &mldr;
Service IP Since i don&rsquo;t own a lot of IPv4 public adresses, some a private IPv4 network will be used for accessing services in this network familly, and some NAT will have to be set.</p></article></div><div id=nextinsection><h3>Newer</h3><article class=post-link><header><h1><a href=../../../../../blog/2017/10/30/Drive-Failure-and-reinstall/>Drive Failure and reinstall</a></h1><p>Hi,
This weekend was one of thoses weekend &mldr; Sunday morning while trying to destroy an unused jail i got a zfs warning: &ldquo;pool is degraded&rdquo;.
As it turn out i was missing a drive in my zfs mirror setup, so heck .. no fun.
After a few email with the hosting company they recommended i migrate over a new server, which is running ok if you&rsquo;re reading this ;).</p></article></div></nav></div></main><footer><div>Â©2022. Built with <a href=https://gohugo.com/>Hugo</a> custom layout loosely based on <a href=https://github.com/ellekasai/shiori>Jekyll Shiori Theme</a>.</div><div><p>Using: <a href=https://www.w3.org/html/logo/><img src=https://www.w3.org/html/logo/badge/html5-badge-h-css3.png alt="HTML5 Powered with CSS3 / Styling" title="HTML5 Powered with CSS3 / Styling" width=33 height=16></a> <a href="https://validator.w3.org/check?uri=/">Validate</a></p></div></footer></body></html>